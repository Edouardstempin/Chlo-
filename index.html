<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Surprise</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#05060e;
      --card: rgba(255,255,255,0.07);
      --card2: rgba(255,255,255,0.11);
      --stroke: rgba(255,255,255,0.14);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.70);

      --yes1:#2dd4bf;
      --yes2:#34d399;
      --no1:#fb7185;
      --no2:#ef4444;

      --gold1:#d7b46a;
      --gold2:#f2e3b6;

      --shadow: 0 30px 90px rgba(0,0,0,0.65);
      --radius: 26px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      padding: 26px 16px;
      color:var(--text);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 800px at 50% 20%, rgba(90,100,255,0.10), transparent 60%),
                  radial-gradient(1000px 700px at 20% 70%, rgba(45,212,191,0.08), transparent 60%),
                  radial-gradient(900px 700px at 80% 80%, rgba(251,113,133,0.06), transparent 60%),
                  linear-gradient(180deg, #02020a, var(--bg));
      overflow:hidden;
    }

    /* Canvas fond √©toiles + feu d'artifice */
    #sky{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      z-index:0;
    }

    /* Grain l√©ger (effet cin√©ma) */
    .grain{
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:0.10;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='260' height='260' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
      z-index:1;
    }

    .wrap{
      width:min(860px, 100%);
      position:relative;
      z-index:2;
    }

    .frame{
      position:absolute;
      inset:-2px;
      border-radius: calc(var(--radius) + 2px);
      background: linear-gradient(135deg,
        rgba(215,180,106,0.50),
        rgba(255,255,255,0.06),
        rgba(45,212,191,0.22),
        rgba(215,180,106,0.35)
      );
      opacity:0.85;
      z-index:-1;
    }

    .card{
      border-radius: var(--radius);
      padding: 30px 28px;
      background: linear-gradient(180deg, var(--card2), var(--card));
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow);
      backdrop-filter: blur(16px);
      position:relative;
      overflow:hidden;
    }

    .card::before{
      content:"";
      position:absolute;
      inset:-60px -60px auto auto;
      width: 260px;
      height: 260px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.16), transparent 60%);
      transform: rotate(18deg);
      opacity: 0.75;
      pointer-events:none;
    }

    header{
      text-align:center;
      padding-bottom: 12px;
    }

    .kicker{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(215,180,106,0.28);
      background: rgba(215,180,106,0.07);
      color: rgba(242,227,182,0.92);
      font-weight: 600;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      font-size: 11px;
    }
    .dot{
      width:6px;height:6px;border-radius:999px;
      background: linear-gradient(180deg, var(--gold2), var(--gold1));
      box-shadow: 0 0 18px rgba(215,180,106,0.35);
    }

    h1{
      margin: 14px 0 10px;
      font-family: "Playfair Display", serif;
      font-weight: 600;
      font-size: clamp(30px, 3.6vw, 44px);
      line-height: 1.06;
      text-shadow: 0 18px 50px rgba(0,0,0,0.45);
    }

    .subtitle{
      margin:0 auto;
      max-width:58ch;
      color:var(--muted);
      font-size: 15.5px;
      line-height: 1.65;
    }

    .divider{
      height:1px;
      margin: 22px 0 18px;
      background: linear-gradient(90deg, transparent, rgba(215,180,106,0.30), rgba(255,255,255,0.10), rgba(45,212,191,0.22), transparent);
      opacity:0.95;
    }

    .buttons{
      display:flex;
      justify-content:center;
      gap: 12px;
      flex-wrap:wrap;
      margin-top: 8px;
    }

    button{
      border: 1px solid rgba(255,255,255,0.14);
      cursor:pointer;
      padding: 12px 18px;
      border-radius: 16px;
      font-weight: 700;
      font-size: 15.5px;
      min-width: 150px;
      transition: transform 160ms ease, filter 160ms ease, box-shadow 160ms ease;
      user-select:none;
      color: rgba(255,255,255,0.92);
      background: rgba(255,255,255,0.06);
      backdrop-filter: blur(10px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.25);
    }
    button:hover{ filter: brightness(1.06); }
    button:active{ transform: translateY(1px); }

    #yesBtn{
      border: 1px solid rgba(45,212,191,0.38);
      background: linear-gradient(135deg, rgba(45,212,191,0.18), rgba(52,211,153,0.12));
      box-shadow: 0 18px 44px rgba(45,212,191,0.10);
      transform: scale(1);
    }

    #noBtn{
      border: 1px solid rgba(251,113,133,0.40);
      background: linear-gradient(135deg, rgba(251,113,133,0.14), rgba(239,68,68,0.10));
      box-shadow: 0 18px 44px rgba(251,113,133,0.08);
    }

    .hint{
      margin-top: 10px;
      text-align:center;
      font-size: 12.5px;
      color: rgba(255,255,255,0.55);
    }

    #message{
      margin-top: 18px;
      border-radius: 18px;
      border: 1px solid rgba(215,180,106,0.20);
      background: linear-gradient(180deg, rgba(215,180,106,0.08), rgba(255,255,255,0.04));
      padding: 16px 16px;
      display:none;
      opacity:0;
      transform: translateY(10px);
    }
    #message.show{
      display:block;
      animation: appear 420ms ease forwards;
    }
    @keyframes appear{
      to{ opacity:1; transform: translateY(0); }
    }

    .messageTitle{
      font-family: "Playfair Display", serif;
      font-weight: 600;
      margin: 0 0 8px;
      font-size: 20px;
    }

    .scrollBox{
      max-height: 44vh;
      overflow:auto;
      padding-right: 6px;
      scrollbar-width: thin;
      scrollbar-color: rgba(215,180,106,0.35) transparent;
    }
    .scrollBox::-webkit-scrollbar{ width: 10px; }
    .scrollBox::-webkit-scrollbar-thumb{
      background: rgba(215,180,106,0.30);
      border-radius: 999px;
      border: 3px solid transparent;
      background-clip: padding-box;
    }

    .messageBody{
      margin:0;
      color: rgba(255,255,255,0.88);
      line-height: 1.75;
      font-size: 15.2px;
      white-space: pre-wrap;
    }

    footer{
      margin-top: 14px;
      text-align:center;
      color: rgba(255,255,255,0.45);
      font-size: 12px;
      letter-spacing: 0.08em;
    }

    @media (max-width: 420px){
      .card{ padding: 22px 18px; }
      button{ min-width: 140px; }
    }
  </style>
</head>

<body>
  <canvas id="sky"></canvas>
  <div class="grain"></div>

  <div class="wrap">
    <div class="frame"></div>

    <div class="card">
      <header>
        <div class="kicker"><span class="dot"></span> message priv√©</div>
        <h1>Coucou Chlo√©, Do you know what ?</h1>
        <p class="subtitle">Choisis une r√©ponse üëá</p>
      </header>

      <div class="divider"></div>

      <div class="buttons">
        <button id="yesBtn" type="button">Oui</button>
        <button id="noBtn" type="button">Non</button>
      </div>

      <div class="hint">Si tu cliques sur ‚ÄúNon‚Äù‚Ä¶ le ‚ÄúOui‚Äù devient encore plus tentant üôÇ</div>

      <section id="message" aria-live="polite">
        <div class="messageTitle">Pour toi ‚ú®</div>
        <div class="scrollBox">
          <p class="messageBody" id="messageText"></p>
        </div>
      </section>

      <footer>‚Äî</footer>
    </div>
  </div>

  <script>
    // --- Boutons & message ---
    const yesBtn = document.getElementById("yesBtn");
    const noBtn  = document.getElementById("noBtn");
    const msgBox = document.getElementById("message");
    const msgTxt = document.getElementById("messageText");

    let scale = 1;

    noBtn.addEventListener("click", () => {
      scale = Math.min(scale + 0.14, 2.35);
      yesBtn.style.transform = `scale(${scale})`;

      msgBox.classList.remove("show");
      msgBox.style.display = "none";
    });

    // --- Canvas √©toiles + feu d'artifice ---
    const canvas = document.getElementById("sky");
    const ctx = canvas.getContext("2d");

    let W = 0, H = 0, dpr = 1;

    function resize(){
      dpr = Math.min(window.devicePixelRatio || 1, 2);
      W = canvas.width  = Math.floor(window.innerWidth * dpr);
      H = canvas.height = Math.floor(window.innerHeight * dpr);
      canvas.style.width  = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      ctx.setTransform(1,0,0,1,0,0);
      ctx.scale(dpr, dpr);
      buildStars();
    }
    window.addEventListener("resize", resize);

    // Etoiles
    let stars = [];
    function rand(min,max){ return Math.random()*(max-min)+min; }

    function buildStars(){
      const count = Math.floor((window.innerWidth * window.innerHeight) / 14000);
      stars = [];
      for(let i=0;i<count;i++){
        stars.push({
          x: Math.random()*window.innerWidth,
          y: Math.random()*window.innerHeight,
          r: rand(0.4, 1.5),
          a: rand(0.25, 0.95),
          tw: rand(0.003, 0.012),  // vitesse de scintillement
          ph: rand(0, Math.PI*2)
        });
      }
    }

    // Particules feu d‚Äôartifice
    const particles = [];
    function addFirework(x,y){
      const bursts = 2 + Math.floor(Math.random()*2); // 2-3 explosions
      for(let b=0;b<bursts;b++){
        const delay = b * 120;
        setTimeout(() => {
          const count = 120 + Math.floor(Math.random()*90);
          const baseHue = rand(0, 360);
          for(let i=0;i<count;i++){
            const ang = Math.random()*Math.PI*2;
            const spd = rand(1.2, 4.8);
            particles.push({
              x, y,
              vx: Math.cos(ang)*spd,
              vy: Math.sin(ang)*spd,
              life: rand(55, 95),
              maxLife: 0,
              g: rand(0.02, 0.06),
              drag: rand(0.982, 0.992),
              hue: baseHue + rand(-18, 18),
              size: rand(1.2, 2.6),
              alpha: 1
            });
          }
        }, delay);
      }
    }

    function drawBackground(){
      // l√©ger voile sombre pour adoucir les tra√Æn√©es
      ctx.fillStyle = "rgba(0,0,0,0.22)";
      ctx.fillRect(0,0,window.innerWidth, window.innerHeight);

      // √©toiles
      for(const s of stars){
        const twinkle = 0.55 + 0.45*Math.sin(s.ph);
        const a = s.a * twinkle;
        ctx.beginPath();
        ctx.fillStyle = `rgba(255,255,255,${a})`;
        ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
        ctx.fill();
        s.ph += s.tw * 60;
      }

      // mini "lueur" au centre
      const grad = ctx.createRadialGradient(
        window.innerWidth*0.5, window.innerHeight*0.2, 20,
        window.innerWidth*0.5, window.innerHeight*0.2, 520
      );
      grad.addColorStop(0, "rgba(120,140,255,0.10)");
      grad.addColorStop(1, "rgba(0,0,0,0)");
      ctx.fillStyle = grad;
      ctx.fillRect(0,0,window.innerWidth, window.innerHeight);
    }

    function updateParticles(){
      for(let i=particles.length-1;i>=0;i--){
        const p = particles[i];
        p.vx *= p.drag;
        p.vy = (p.vy * p.drag) + p.g;

        p.x += p.vx;
        p.y += p.vy;

        p.life -= 1;
        const t = Math.max(p.life / 95, 0);
        p.alpha = Math.min(1, t);

        // dessin particule (glow)
        ctx.beginPath();
        ctx.fillStyle = `hsla(${p.hue}, 100%, 65%, ${p.alpha})`;
        ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
        ctx.fill();

        // petite aura
        ctx.beginPath();
        ctx.fillStyle = `hsla(${p.hue}, 100%, 70%, ${p.alpha*0.18})`;
        ctx.arc(p.x, p.y, p.size*4, 0, Math.PI*2);
        ctx.fill();

        if(p.life <= 0 || p.x < -50 || p.x > window.innerWidth+50 || p.y > window.innerHeight+80){
          particles.splice(i,1);
        }
      }
    }

    function loop(){
      drawBackground();
      updateParticles();
      requestAnimationFrame(loop);
    }

    // Lancement
    resize();
    // remplir le canvas en noir au d√©but
    ctx.fillStyle = "black";
    ctx.fillRect(0,0,window.innerWidth, window.innerHeight);
    requestAnimationFrame(loop);

    // Click OUI -> message + feu d‚Äôartifice
    yesBtn.addEventListener("click", () => {
      msgTxt.textContent =
`Je voulais te faire une surprise, et te dire √† quel point tu es incroyable. Je ne pensais pas rencontrer une personne comme toi, avec qui j‚Äôai pu me lier ‚Äî dans le sens o√π tu fais, en quelque sorte, partie de ma vie !

Lorsque je suis arriv√© sur Lille, je ne connaissais personne. J‚Äô√©tais en pleine d√©prime, dans un travail que je n‚Äôaime pas, une √©cole que je n‚Äôaime pas‚Ä¶ et je ne connaissais personne. J‚Äôai eu quelque chose de compliqu√© dans ma vie, qui a fait d√©border le vase‚Ä¶

Et un jour je me suis dit : ‚ÄúAllez, reprends-toi en main, et va courir.‚Äù J‚Äôai d√©cid√© de venir √† Foodrunner, et l√† je me suis dit : ‚ÄúC‚Äôest pas pour moi‚Ä¶ je suis trop timide, je parle √† personne et personne vient me parler.‚Äù

Puis au milieu de la course, tu es arriv√©e, et on a parl√©, parl√©‚Ä¶ et quand je suis rentr√© chez moi je pensais encore √† toi. Je me suis dit : ‚ÄúJ‚Äôesp√®re qu‚Äôelle sera encore l√† la prochaine fois.‚Äù Et tu l‚Äô√©tais. On a continu√© √† parler, √† avoir un bon feeling, et on a gard√© contact !

Bref, tout √ßa tu le connais d√©j√†.

Tout √ßa pour dire que tu es une personne incroyable. Je sais que tu ne me connais pas beaucoup (et moi pareil), mais d‚Äôapr√®s ce que j‚Äôai vu, tu es formidable.

Je suis s√ªr que tout va bien se passer en Italie, que tu vas vivre une exp√©rience extraordinaire. M√™me si je sais que tu n‚Äôes pas s√ªre et certaine de cela‚Ä¶ fais-moi confiance !

Et si tu doutes de toi, ou que tu ne passes pas une bonne journ√©e : je sais que tu as des amies qui seront l√† pour toi ‚Äî et je serai l√† aussi.

Voil√†, je voulais te souhaiter un bon Erasmus d‚Äôune fa√ßon un peu plus originale :))`;

      msgBox.style.display = "block";
      msgBox.classList.add("show");

      // Feux d'artifice (2-3 endroits autour de la carte)
      const cx = window.innerWidth * 0.5;
      const cy = window.innerHeight * 0.32;

      addFirework(cx, cy);
      addFirework(cx - 220, cy + 80);
      addFirework(cx + 240, cy + 60);

      // Et un dernier al√©atoire
      addFirework(rand(window.innerWidth*0.25, window.innerWidth*0.75), rand(window.innerHeight*0.18, window.innerHeight*0.55));
    });

    // Bonus : clic n'importe o√π pour lancer un petit feu (optionnel)
    // window.addEventListener("click", (e) => addFirework(e.clientX, e.clientY));
  </script>
</body>
</html>
